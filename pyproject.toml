[build-system]
requires = ["flit_core >=3.2,<4"]
build-backend = "flit_core.buildapi"

[project]
name = "chtools"
version = "1.0.0"
description = "A set of tools for administration and diagnostics of ClickHouse DBMS."
license = { file = "LICENSE" }
authors = [
    {name = "Alexander Burmak", email = "alex-burmak@yandex-team.ru"},
    #{name = "Dmitry Starov<dstaroff@yandex-team.ru>",
    #{name = "Anton Ivashkin <iantonspb@yandex-team.ru>",
    #{name = "Grigory Pervakov <pervakovg@yandex-team.ru>",
    #{name = "Petr Nuzhnov <petrnuzhnov@yandex-team.ru>",
    #{name = "Egor Medvedev <egor-medvedev@yandex-team.ru>",
    #{name = "Aleksei Filatov <alexfvk@yandex-team.ru>",
    #{name = "Evgeny Dyukov <secwall@yandex-team.ru>",
    #{name = "Evgeny Strizhnev <estrizhnev@yandex-team.ru>",
    #{name = "Vadim Volodin <vadim-volodin@yandex-team.ru>",
    #{name = "Anton Chaporgin <chapson@yandex-team.ru>",
    #{name = "Evgenii Kopanev <ekopanev@yandex-team.ru>",
    #{name = "Mikhail Kot <myrrc@yandex-team.ru>",
]

maintainers = [
    {name = "Alexander Burmak", email = "alex-burmak@yandex-team.ru"},
    #"Alexander Burmak <alex-burmak@yandex-team.ru>",
    #"Dmitry Starov <dstaroff@yandex-team.ru>",
    #"Anton Ivashkin <iantonspb@yandex-team.ru>",
    #"Grigory Pervakov <pervakovg@yandex-team.ru>",
    #"Petr Nuzhnov <petrnuzhnov@yandex-team.ru>",
    #"Egor Medvedev <egor-medvedev@yandex-team.ru>",
    #"Aleksei Filatov <alexfvk@yandex-team.ru>",
    #"Evgenii Kopanev <ekopanev@yandex-team.ru>",
    #"Mikhail Kot <myrrc@yandex-team.ru>",
]

readme = "README.md"

keywords=[
    "clickhouse",
    "database",
    "monitoring",
    "diagnostics",
    "administration",
]

classifiers = [
    "Development Status :: 5 - Production/Stable",
    "Intended Audience :: Developers",
    "Intended Audience :: System Administrators",
    "Operating System :: MacOS",
    "Operating System :: POSIX :: BSD",
    "Operating System :: POSIX :: Linux",
    "Operating System :: Unix",
    "Topic :: Database",
    "Typing :: Typed",
]

requires-python = ">=3.6.2"

dependencies = [
    "boto3",
    "click",
    "cloup",
    "deepdiff",
    "dnspython",
    "file_read_backwards",
    "humanfriendly",
    "jinja2",
    "kazoo",
    "lxml",
    "psutil",
    "pygments",
    "pyopenssl",
    "python-dateutil",
    "pyyaml",
    "requests",
    "tabulate",
    "tenacity",
    "termcolor",
    "tqdm",
    "xmltodict"
]

[project.urls]
Source = "https://github.com/yandex/ch-tools"

[project.optional-dependencies]
test = [
    "black",
    "isort",
#pylint = "^2.13"
#mypy = "^0.971"
#types-pyyaml = "*"
#types-requests = "*"
#bandit = "*"
    "behave",
    "docker",
    "docker-compose",
    "pyhamcrest",
    "pytest"
]

[project.scripts]
chadmin = "chtools.chadmin.chadmin_cli:main"
ch-monitoring = "chtools.monrun_checks.main:main"
keeper-monitoring = "chtools.monrun_checks_keeper.main:main"
ch-s3-credentials = "chtools.s3_credentials.main:main"

[tool.isort]
profile = "black"
